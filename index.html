<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Tools for exploiting warm/cold boot in iCE40 FPGAs</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Tools for exploiting warm/cold boot in iCE40 FPGAs</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_context">Context</a></li>
<li><a href="#_introduction_to_ice40_configuration_modes">Introduction to iCE40 configuration modes</a></li>
<li><a href="#_introduction_to_coldwarm_boot">Introduction to cold/warm boot</a>
<ul class="sectlevel2">
<li><a href="#_single_bitstream">Single bitstream</a></li>
<li><a href="#_coarse_understanding_of_the_bitstream_format">Coarse understanding of the bitstream format</a></li>
<li><a href="#_packing_up_to_four_images">Packing up to four images</a></li>
<li><a href="#_warm_boot_demo">Warm boot demo</a></li>
</ul>
</li>
<li><a href="#_beyond_four_imagesbitstreams">Beyond four images/bitstreams</a>
<ul class="sectlevel2">
<li><a href="#_hypothesis">Hypothesis</a></li>
<li><a href="#_scope">Scope</a></li>
<li><a href="#_software">Software</a>
<ul class="sectlevel3">
<li><a href="#_compression">Compression</a></li>
<li><a href="#_preserving_bram_data">Preserving BRAM data</a></li>
<li><a href="#_tests">Tests</a></li>
</ul>
</li>
<li><a href="#_hardware">Hardware</a></li>
</ul>
</li>
<li><a href="#_references">References</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph text-center">
<p><a href="https://github.com/umarcor/warmboot"><span class="image"><img src="https://img.shields.io/badge/umarcor-warmboot-f2f1ef.svg?longCache=true&amp;style=flat-square&amp;logo=GitHub&amp;logoColor=f2f1ef" alt="umarcor warmboot f2f1ef" title="umarcor/warmboot GitHub repository"></span></a>
<a href="https://gitter.im/im-tomu/warmboot"><span class="image"><img src="https://img.shields.io/gitter/room/im-tomu/warmboot.svg?longCache=true&amp;style=flat-square&amp;logo=gitter&amp;logoColor=fff&amp;color=4db797&amp;label=im-tomu/warmboot" alt="warmboot" title="im-tomu/warmboot on gitter.im"></span></a>
<a href="https://github.com/hdl/awesome"><span class="image"><img src="https://img.shields.io/badge/hdl-awesome-f2f1ef.svg?longCache=true&amp;style=flat-square&amp;logo=GitHub&amp;logoColor=f2f1ef" alt="hdl awesome f2f1ef" title="hdl/awesome GitHub repository"></span></a></p>
</div>
<div class="paragraph">
<p>This project is based on <a href="https://github.com/YosysHQ/icestorm">YosysHQ/icestorm</a>, which was published and announced in
2015:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Project IceStorm aims at documenting the bitstream format of Lattice iCE40
FPGAs and providing simple tools for analyzing and creating bitstream files.
(&#8230;&#8203;)
The focus of the project is on the iCE40 LP/HX 1K/4K/8K chips. Most of the work was done on HX1K-TQ144 and HX8K-CT256
parts.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; IceStorm<br>
<cite><a href="http://bygone.clairexen.net/icestorm/">bygone.clairexen.net/IceStorm</a></cite>
</div>
</div>
<div class="paragraph">
<p>Later, support for devices of Lattice&#8217;s <a href="http://www.latticesemi.com/Products/FPGAandCPLD/iCE40UltraPlus">iCE40 Ultra Plus</a>
family was added.
Moreover, Lattice embraced the open source community by providing a list of
<a href="https://www.latticesemi.com/en/Solutions/Solutions/SolutionsDetails01/CommunitySourced">Community Sourced</a> development
boards.
Today, the list of available boards with iCE40 FPGAs supported by open source synthesis tools comprises, but is not
limited to:
<a href="http://www.latticesemi.com/icestick">iCEstick Evaluation Kit</a>,
<a href="http://www.latticesemi.com/Products/DevelopmentBoardsAndKits/iCE40HX8KBreakoutBoard.aspx">iCE40-HX8K Breakout Board</a>,
<a href="https://www.crowdsupply.com/1bitsquared/icebreaker-fpga">iCEBreaker FPGA</a>,
<a href="https://github.com/wuxx/icesugar/blob/master/README_en.md">ICESugar</a>,
<a href="http://icoboard.org/about-icoboard.html">icoBOARD 1.0</a>,
<a href="http://fpgalibre.sourceforge.net/Kefir/">Kéfir I iCE40-HX4K</a>,
<a href="https://www.nandland.com/goboard/introduction.html">Nandland Go board</a>,
<a href="https://folknologylabs.wordpress.com/2016/07/21/a-perfect-storm/">myStorm</a>,
<a href="https://mystorm.uk/we-forecast-blackice-this-winter-2/">BlackIce</a>,
<a href="https://github.com/Agilack/eCow-logic">eCow-Logic</a>,
<a href="http://tinyfpga.com/">TinyFPGA</a>&#8230;&#8203;
See <a href="https://hdl.github.io/awesome/boards/">hdl.github.io/awesome/boards</a>.</p>
</div>
<div class="paragraph">
<p>This site documents existing examples, bootloaders and references about dynamic reconfiguration through the cold/warm
boot feature available in iCE40 FPGAs.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_context">Context</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This article, examples and tool enhancements are the joint effort of several people.</p>
</div>
<div class="paragraph">
<p>In 2015, Claire (@clairexen) released Icestorm, including icemulti.</p>
</div>
<div class="paragraph">
<p>In March 2017, Juanma (@juanmard) and Unai (@umarcor) met and the latter introduced the former to the concept of
(partial) dynamic reconfiguration in FPGAs (using high-end devices as a market reference).
Juanma was eagger to know more about it, so Unai analysed the configuration options in the iCE40 family manuals and
datasheets; then explaining the possibilities that warm/cold boot provided.
During a couple of months, a continuous feedback was built.
Juanma, modified IceStorm&#8217;s icemulti and iceprog for prototyping and proving the features, while Unai
proposed solutions for extending the scope beyond four addressable images (see <a href="#_hypothesis">Hypothesis</a>).
Juanma published a <a href="https://github.com/juanmard/screen-warmboot">demo</a> and enhancements to icemulti and iceprog were
made available in <a href="https://github.com/juanmard/icestorm">juanmard/icestorm</a>.</p>
</div>
<div class="paragraph">
<p>In January 2018, independently, Luke (@tinyfpga) developed the <a href="https://github.com/tinyfpga/TinyFPGA-Bootloader">TinyFPGA-Bootloader</a>.
That one implemented an USB to SPI core for using the reset image as a passthrough for programming the flash memory.
Therefore, although warm/cold boot are not explicitly mentioned in the description, it was, as far as we are aware, the
first open source and documented practical use of the feature.</p>
</div>
<div class="paragraph">
<p>In December 2018, Luke helped Tim (@mithro) and Sean (@xobs) implement the <a href="https://github.com/im-tomu/foboot">im-tomu/foboot</a>.
It was also based on loading a bootloader upon reset for allowing programming a user image in one of the cold/warm boot
addresses.
However, due to size constraints, it&#8217;s a completely different implementation based on a soft core.</p>
</div>
<div class="paragraph">
<p>In May 2021, Sylvain (@sylefeb) and Bruno (@brunolevy01) were discussing about SPI-flash difficulties on Twitter,
when Unai jumped in and let them know about the existing work done together with Juanma, as well as the similarities
with both TinyFPGA and FOMU bootloaders.
As it happened four years earlier, Sylvain got so excited about the feature and a nice feedback was built between him
and Juanma.
Sylvain implemented a <a href="https://twitter.com/sylefeb/status/1388586566591913985">demo</a> and a
<a href="https://github.com/sylefeb/Silice/blob/draft/projects/ice40-warmboot">tutorial</a> about warmboot.
Within less than a couple of days, he implemented the first actual demo using 4+ images (8 precisely):
<a href="https://github.com/sylefeb/Silice/tree/draft/projects/ice40-dynboot">Dynamic warm boot on the ice40, proof of concept</a>.</p>
</div>
<div class="paragraph">
<p>Overall, this document is an attempt at gathering the information that all those projects have in common (from a
theoretical/technical point of view) and for linking to all the specific implementations and examples.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_to_ice40_configuration_modes">Introduction to iCE40 configuration modes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since iCE40 FPGAs are SRAM-based, thus volatile, it is common practice to include a flash memory in any board design.
That is typically used for automatically loading a configuration on power-up through SPI.
As a result, it is common in FPGAs devices to find hard IP cores implementing SPI controllers.
Furthermore, according to <a href="http://www.latticesemi.com/dynamic/view_document.cfm?document_id=46502">TN1248: iCE40 Programming and Configuration</a>,
the hard SPI cores in the iCE40 devices support not only the <em>master</em> mode required for loading from flash.
In <em>slave</em> mode, <em>"the iCE40 configuration data can be downloaded from an external processor, microcontroller, or DSP
processor using the SPI interface"</em>.</p>
</div>
<div class="paragraph">
<p>On top of that, some devices support so-called <strong>Cold Boot</strong> and/or <strong>Warm Boot</strong> configuration options.
That allows writing up
to four addressable images/bitstreams to the flash memory, so that any of them can be loaded afterwards, without
requiring any additional external communication.
That is known as <strong>Dynamic Reconfiguration</strong> in the FPGA community.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There is another configuration mode: the one-time programmable NVCM (Non-Volatile Configuration Memory).
That is, naturally, out of the scope of this project.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_to_coldwarm_boot">Introduction to cold/warm boot</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To avoid mixing terms, <em>image</em> is used for referring to the bitstream corresponding to a single design, and <em>pack</em>
relates to multiple images packed in a single bitstream.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Since most of the boards are based on the iCEstick, it&#8217;s design is the reference for the tests explained below.
As shown in the <a href="http://www.latticesemi.com/view_document?document_id=50701">iCEstick User Manual</a>, the FPGA, the Flash
memory and the FTDI chip (which is a processor), are all connected to the same SPI bus:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>FTDI is always a master. Writes/reads to/from the FPGA or the Flash.</p>
</li>
<li>
<p>Flash memory is always a slave. It is read from the FTDI or the FPGA.</p>
</li>
<li>
<p>FPGA is master/slave depending on the configuration mode.</p>
<div class="ulist">
<ul>
<li>
<p>In slave mode, it is written by the FTDI.</p>
</li>
<li>
<p>In master mode, data is read from the Flash.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>On top of that, the FTDI chip controls the programming reset signal of the FPGA.</p>
</div>
<div class="paragraph">
<p><em>TBW</em></p>
</div>
<div class="sect2">
<h3 id="_single_bitstream">Single bitstream</h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>After exiting the Power-On Reset (POR) state or when CRESET_B returns High after being held Low, the iCE40 device
samples the logical value on its SPI_SS_B pin.</p>
</div>
<div class="paragraph">
<p>(&#8230;&#8203;)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the SPI_SS_B pin is sampled as a logic ‘1’ (High), then …</p>
<div class="ulist">
<ul>
<li>
<p>If enabled to configure from NVCM, the device configures itself using the Nonvolatile Configuration Memory (NVCM).</p>
</li>
<li>
<p>If not enabled to configure from NVCM, then the device configures using the SPI Master Configuration Interface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the SPI_SS_B pin is sampled as a logic ‘0’ (Low), then the device waits to be configured from an external
controller or from another device in SPI Master Configuration Mode using an SPI-like interface.</p>
</li>
</ul>
</div>
</blockquote>
<div class="attribution">
&#8212; Lattice<br>
<cite>TN1248, pp 3-4</cite>
</div>
</div>
<div class="paragraph">
<p>Therefore a single bitstream can be directly loaded to the FPGA with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">TBW</code></pre>
</div>
</div>
<div class="paragraph">
<p>That is, in the iCEstick and similar boards, the FTDI resets the FPGA by asserting <code>CRESET_B</code> and lets it power up in
slave SPI mode by keeping <code>SPI_SS_B</code> low.
Then, the image is written to the SRAM directly.
The flash memory ignores any command, because asserting the communication to the FPGA disables the memory&#8217;s chip select.
This is explained in detail in [TN1248, pp 17-20].</p>
</div>
<div class="paragraph">
<p>However, with the option above, the FPGA will lose it&#8217;s functionaly as soon as it is powered off.
To avoid so, the following command can be used instead:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">TBW</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time, the FTDI explicitly holds the FPGA in reset state and asserts the chip select signal of the flash memory.
Then, the image is written to the flash memory.
When the transference is complete, the reset state is released and the FPGA is powered up in master SPI mode.
Therefore, the image written just before is loaded from the flash memory.
For more information check [TN1248, pp 10-13].</p>
</div>
<div class="paragraph">
<p>TODO: to pos 0? Is an applet added?</p>
</div>
</div>
<div class="sect2">
<h3 id="_coarse_understanding_of_the_bitstream_format">Coarse understanding of the bitstream format</h3>
<div class="paragraph">
<p>Instead of thoroughly analyzing the details of the format, which is explained at <a href="http://bygone.clairexen.net/icestorm/format.html">bygone.clairexen.net/icestorm/format</a>,
a naive approach was followed. Four bitstreams generated with Yosys and nextpnr were analyzed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Checking the size reveals that all of the images require the same number of bytes: 31.4 KB (32220 bytes), although
32KB are required on disk.</p>
</li>
<li>
<p>An hexadecimal dump of the images, reveals that, as expected, the first eight bytes are the same:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ hexdump -C img01_counter8.bin &gt; img01.dump
$ hexdump -C img02_blink.bin &gt; img02.dump
$ hexdump -C img03_led_on.bin &gt; img03.dump
$ hexdump -C img04_pushbutton_and.bin &gt; img04.dump</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>00000000  ff 00 00 ff 7e aa 99 7e  51 00 01 05 92 00 20 62
00000010  01 4b 72 00 90 82 00 00  11 00 01 01 00 00 00 00
00000020  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Actually, in the example images at least the first 32 bytes are the same.
However, that may change if more heterogeneous designs sets are used.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As it is explained below, that is the <em>applet</em>, a table/index of addressable images.</p>
</div>
</div>
<div class="sect2">
<h3 id="_packing_up_to_four_images">Packing up to four images</h3>
<div class="paragraph">
<p>In [TN1248, pp 14-15] the <em>Cold Boot Configuration Option</em> is explained.
The procedure is roughly the same as the second one explained in the single bitstream example above, but up to four
images can be written at the same time.
The advantage is that this allows the user to later change from one image to another without requiring an external
processor for transferring it.</p>
</div>
<div class="paragraph">
<p>To support such a feature, an <em>applet</em> is written to the first addresses of the flash.
Then, when the cold boot option is enabled:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>(&#8230;&#8203;) the iCE40 FPGA boots normally from power-on or a master reset (CRESET_B = Low pulse), but monitors the value on
two PIO pins that are borrowed during configuration (&#8230;&#8203;).
These pins, labeled PIO2/CBSEL0 and PIO2/CBSEL1, tell the FPGA which of the four possible SPI configurations to load
into the device.</p>
</div>
<div class="paragraph">
<p>(&#8230;&#8203;) If the applet is written, but the cold boot option is disabled:</p>
</div>
<div class="paragraph">
<p>(&#8230;&#8203;) the FPGA configuration starts from the default location (image 0) defined in the Cold/Warm Boot applet.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Lattice<br>
<cite>TN1248, pp 3-4</cite>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Actually, five image can be <em>addressed</em> since there is a fifth one identified as the power-on reset image.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Packing images is achieved with a tool named <a href="https://github.com/YosysHQ/icestorm/blob/master/icemulti">icemulti</a> from the
IceStrom toolchain.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">Usage: icemulti [options] input-files

 -c
 coldboot mode, power on reset image is selected by CBSEL0/CBSEL1

 -p0, -p1, -p2, -p3
 select power on reset image when not using coldboot mode

 -a&lt;n&gt;, -A&lt;n&gt;
 align images at 2^&lt;n&gt; bytes. -A also aligns image 0.

 -o filename
 write output image to file instead of stdout

 -v
 verbose (repeat to increase verbosity)</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example, to program four images at a time, by setting the first one as the default and not enabling cold boot:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"> $ icemulti -p0 -o pack_cp0.bin img01_counter8.bin img02_blink.bin img03_pushbutton_and.bin img04_led_on.bin
 $ iceprog pack_cp0.bin
 init..
 cdone: high
 reset..
 cdone: low
 flash ID: 0x20 0xBA 0x16 0x10 0x00 0x00 0x23 0x54 0x82 0x46 0x06 0x00 0x56 0x00 0x29 0x19 0x01 0x16 0xA4 0xB5
 file size: 130524
 erase 64kB sector at 0x000000..
 erase 64kB sector at 0x010000..
 programming..
 reading..
 VERIFY OK
 cdone: high
 Bye.</code></pre>
</div>
</div>
<div class="paragraph">
<p>The same pack can be generated with the second image as the default option by changing <code>-p0</code> to <code>-p1</code>.
When programming any of these packs, the transference will last longer than in the single image example, because four
full images are being written.
However there will be no functional difference, since only the default image will be used by the FPGA.
This is a good starting point for understanding how packs are generated.</p>
</div>
<div class="paragraph">
<p>The size of both packs is the same: 127 KB (130524 bytes), on disk 128KB.
As done previously, an hexdump of one of the packs was generated.
If we compare it with the hexdump of a single image, the starting point of each of them is easily found.
Indeed, looking for <code>ff 7e aa 99 7e</code> is enough.
In the following block only the most meaninful parts are shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>00000000  7e aa 99 7e 92 00 00 44  03 00 01 00 82 00 00 01
00000010  08 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
00000020  7e aa 99 7e 92 00 00 44  03 00 01 00 82 00 00 01
00000030  08 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
00000040  7e aa 99 7e 92 00 00 44  03 00 80 00 82 00 00 01
00000050  08 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
00000060  7e aa 99 7e 92 00 00 44  03 01 00 00 82 00 00 01
00000070  08 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
00000080  7e aa 99 7e 92 00 00 44  03 01 80 00 82 00 00 01
00000090  08 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
000000a0  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff
*
00000100  ff 00 00 ff 7e aa 99 7e  51 00 01 05 92 00 20 62
00000110  01 4b 72 00 90 82 00 00  11 00 01 01 00 00 00 00
*
00008000  ff 00 00 ff 7e aa 99 7e  51 00 01 05 92 00 20 62
00008010  01 4b 72 00 90 82 00 00  11 00 01 01 00 00 00 00
*
00010000  ff 00 00 ff 7e aa 99 7e  51 00 01 05 92 00 20 62
00010010  01 4b 72 00 90 82 00 00  11 00 01 01 00 00 00 00
*
00018000  ff 00 00 ff 7e aa 99 7e  51 00 01 05 92 00 20 62
00018010  01 4b 72 00 90 82 00 00  11 00 01 01 00 00 00 00</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, we can derive the following memory map:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>applet <code>0x00000000</code> 256 bytes</p>
</li>
<li>
<p>img01 <code>0x00000100</code> 32512 bytes</p>
</li>
<li>
<p>img02 <code>0x00008000</code> 32768 bytes</p>
</li>
<li>
<p>img03 <code>0x00010000</code> 32768 bytes</p>
</li>
<li>
<p>img04 <code>0x00018000</code> 32768 bytes</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These addresses match columns 10-12 in lines <code>00000020</code>, <code>00000040</code>, <code>00000060</code> and <code>00000080</code>.
Hence, those three bytes tell the warm/cold boot feature where to load the bitstream from.
Furthermore, the address of img01 is also present in columns 10-12 at address 0x00000000.
That is the power-on reset image.</p>
</div>
<div class="paragraph">
<p>Every image, except <code>img01</code> is placed in a 32KB section, which makes sense if no compression is used at all.
The space for <code>img01</code> is smaller, because of the applet.
However, since images require 32220 bytes, there are still 292 free bytes.
Indeed, there are 3*548+292=1936 free bytes between images in the space <code>0x00000000-0x0001FFFF</code>, which can be used for
user applications, even if cold boot is active.</p>
</div>
<div class="paragraph">
<p>Moreover, the hexdump of the second pack is equal to the previous one, except for the power-on reset image, which is set
to <code>img02</code> instead of <code>img01</code>. Actually, they differ in a single byte:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>00000000  7e aa 99 7e 92 00 00 44  03 00 01 00 82 00 00 01 | pack_cp0.bin
00000000  7e aa 99 7e 92 00 00 44  03 00 80 00 82 00 00 01 | pack_cp1.bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>Therefore, even though <em>vector addresses (4)</em> are mentioned in [TN1248, Fig. 11], a single one is used when <code>-c</code> option
is not passed to icemulti.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TODO: what&#8217;s the byte-difference between cold-boot active/inactive? See icemulti sources.</p>
</li>
<li>
<p>TODO: option "-c" to activate cold boot and select with CBSELx</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_warm_boot_demo">Warm boot demo</h3>
<div class="paragraph">
<p>The warm boot feature is functionally the same as the cold boot.
The same external memory layout is used.
The only difference is that warm boot is triggered from inside the FPGA.
That is, a hard module/component named <code>SB_WARMBOOT</code> needs to be instantiated in each of the designs which should change
to some other under certain conditions.
It has two bits for selecting one of the four images, along with an additional bit for triggering the reboot/reload.
That replaces the external pins used for cold-boot.</p>
</div>
<div class="paragraph">
<p><em>TBW</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/juanmard/screen-warmboot">juanmard/screen-warmboot</a></p>
</li>
<li>
<p><a href="https://github.com/sylefeb/Silice/blob/draft/projects/ice40-warmboot/README.md">sylefeb/Silice: draft/projects/ice40-warmboot</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beyond_four_imagesbitstreams">Beyond four images/bitstreams</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After diving into the existing documentation, and having performed some experiments, the contributors to this project
realized that the cold/warm boot feature can be extended far beyond the limit of four (in)directly addressable
images/bitstreams.
For instance, ~128 images can fit in the 4MB (32Mb) flash included in the iCEstick.</p>
</div>
<div class="sect2">
<h3 id="_hypothesis">Hypothesis</h3>
<div class="paragraph">
<p>The configuration defaults to reading pointers in fixed positions and directly jumping to them.
Three bytes (24 bits) are reserved for each pointer, so <code>0xFFFFFF</code> is the largest value they can take.
As a result, up to <code>floor((2<sup>24-1)/2</sup>15)=511</code> images can be addressed, if a memory of at least 16MB (128Mb) is used and
32KB are used for each image.
The size of the flash memory in the iCEstick is 4MB (32Mb), so up to <code>floor((2<sup>22-1)/2</sup>15)=127</code> images can be addressed.
The expression for computing the address corresponding to an image in position <code>x</code>, where <code>x = 0,&#8230;&#8203;,$number_of_images-1</code>
is <code>x==0 ? 0x000100 ; (x-1)*0x8000</code>.</p>
</div>
<div class="paragraph">
<p>If images are appended without free space between them, slightly larger packs can fit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>floor((2^24-1)/32220)=520
floor((2^22-1)/32220)=130</code></pre>
</div>
</div>
<div class="paragraph">
<p>Apparently, this extended memory map can not be addressed through <code>CBSEL</code>.
However, either the processor or a component in the FPGA can be used for updating just the pointers (applet), allowing
changing between groups of four images in the extended pack.</p>
</div>
</div>
<div class="sect2">
<h3 id="_scope">Scope</h3>
<div class="paragraph">
<p>Cold/warm boot features of Lattice&#8217;s iCE40 FPGAs allows mimicking high-performance SoC designs which include
programmable logic, such as Xilinx&#8217;s Zynq or Intel/Altera&#8217;s Arria/Cyclone.
The main orchestrator in those systems is expected to be a CPU (either a PC or a microcontroller), which is already true
for most of the available open source boards.
Furthermore, embedded CPUs can be synthetised.
Actually, that&#8217;s the case of <a href="https://github.com/im-tomu/fomu-hardware">FOMU</a>, which loads a RISC-V based design as the
demo design.
That sets a quite large list of devices to choose from.
Although not exclusively, examples here are focused on the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>USB-TTL adapter: FTDI, CH340, PL2303&#8230;&#8203;</p>
<div class="ulist">
<ul>
<li>
<p>USB-SPI</p>
</li>
<li>
<p>USB-UART</p>
</li>
</ul>
</div>
</li>
<li>
<p>External uC: AVR, ARM, FTDI, ESP32&#8230;&#8203;</p>
</li>
<li>
<p>Embedded uC: VexRiscv (RISC-V), Lattuino (AVR)&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Depending on the design of the boards, multiple connection schemes might be possible in order to achieve the same
functional result. See the specific documentation of each of the examples.</p>
</div>
</div>
<div class="sect2">
<h3 id="_software">Software</h3>
<div class="paragraph">
<p>The upstream icemulti allows packing up to four images for using the default cold/warm boot features.
It also allows the power on reset image.
However, it does not currently support features beyond the default usage.</p>
</div>
<div class="paragraph">
<p>@juanmard extended both icemulti and iceprog for allowing packing any number of images, up to the size of the target
memory.
See <a href="https://github.com/juanmard/icestorm">juanmard/icestorm</a>.
It also allowed modifying entries in the header/applet for switching the addressable images efficiently.
Moreover, he used some spare bytes at the beginning of each image for writing an string identifier of the bitstream.
That allows listing the content of the memory (through iceprog) and getting a human readable output.</p>
</div>
<div class="paragraph">
<p>@sylefeb complemented @juanmard&#8217;s solution by writing a hot-swap HDL core that can manipulate the header/applet in the
external memory, so that an external CPU or PC is not required for switching addresses/pointers.
Furthermore, he cleverly implemented it by employing an unused region of the external memory as an scratchpad and
modifying the header, on the fly (while passing through a reduced footprint HDL).
Chunks of 256 bytes are used.
The actual HDL is a RISC-V soft core requiring ~2K LUTs.
Yet, as he explains in <a href="https://github.com/sylefeb/Silice/tree/draft/projects/ice40-dynboot">sylefeb/Silice: draft/projects/ice40-dynboot</a>, there is room for improvement there!</p>
</div>
<div class="paragraph">
<p>When using development boards with iCE40 devices which don&#8217;t use FTDI for programming, <code>iceprog</code> cannot be used.
That is the case of e.g. <a href="https://github.com/im-tomu/fomu-hardware">FOMU</a>, which uses <code>dfu-util</code>.
However, @sylefeb found that dfu-util is happy to upload binary files larger than the default bitstream size.
Hence, data can be concatenated and it is the available at address 262144 (warmboot slot) + 104106 (bitstream size) (
see <a href="https://github.com/im-tomu/foboot/blob/master/doc/FLASHLAYOUT.md">im-tomu/foboot: doc/FLASHLAYOUT.md</a>).</p>
</div>
<div class="sect3">
<h4 id="_compression">Compression</h4>
<div class="paragraph">
<p>From the potentially hundreds of images available in external memory, only five of them can be directly loaded by the FPGA.
Therefore, all others can be stored in a compressed format.
From a software point of view, there are many compression algorithms adapted for being executed on low power/performance
embedded devices.
It might be more challenging to achieve it with a pure HDL solution.
Still, dictionary or block based compressions such as LZO might be efficient enough.
Some quick experiments show that the size of each bitstream can be reduced to 3-5% (from 32KB to 1-1.6KB) by using <code>lzop</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Oberhumer">wikipedia: Lempel–Ziv–Oberhumer (LZO)</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/torvalds/linux/blob/master/lib/decompress_unlzo.c" class="bare">https://github.com/torvalds/linux/blob/master/lib/decompress_unlzo.c</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://en.wikibooks.org/wiki/Data_Compression/Dictionary_compression" class="bare">https://en.wikibooks.org/wiki/Data_Compression/Dictionary_compression</a></p>
</li>
<li>
<p><a href="https://catchchallenger.first-world.info/wiki/Quick_Benchmark:_Gzip_vs_Bzip2_vs_LZMA_vs_XZ_vs_LZ4_vs_LZO" class="bare">https://catchchallenger.first-world.info/wiki/Quick_Benchmark:_Gzip_vs_Bzip2_vs_LZMA_vs_XZ_vs_LZ4_vs_LZO</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_preserving_bram_data">Preserving BRAM data</h4>
<div class="paragraph">
<p>It would be interesting to know whether BRAM data is necessarily overwritten when a new bitstream is loaded.
If that is the case, it might be possible to use the pipeline approach from Sylvain for hot-replacing the content of the
BRAMs when an image is changed.
That would allow the implementation of complex algorithms on the same data.
The advantage would be that freshly loaded images could start computation straightaway after load.
However, depending on the use case, it might more efficient to have some custom save/load mechanism.</p>
</div>
<div class="paragraph">
<p>Nevertheless, nextpnr allows specifying absolute placement constraints in the HDL sources.
See <a href="https://github.com/YosysHQ/nextpnr/blob/master/docs/constraints.md#absolute-placement-constraints">YosysHQ/nextpnr: master/docs/constraints.md</a>.
Hence, that is worth exploring before considering it a dead-end.
Sylvain did some preliminary tests, without success: <a href="https://gitter.im/im-tomu/warmboot?at=60919f992cc8c84d850db0dd">gitter.im/im-tomu/warmboot?at=60919f992cc8c84d850db0dd</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tests">Tests</h4>
<div class="ulist">
<ul>
<li>
<p>Write <code>pack_cp0.bin</code> to flash.</p>
<div class="ulist">
<ul>
<li>
<p>Change default pointer only, through FTDI.</p>
</li>
<li>
<p>Rearrange the pointers, through FTDI.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Pack more than four images and write the binary to flash.</p>
<div class="ulist">
<ul>
<li>
<p>Set a fifth image as default (which is not referred by any of the four pointers).</p>
</li>
<li>
<p>Rearrange the poiners, through FTDI.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>TODO: CLI to rearrange pointers. measure and compare reconfiguration time.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hardware">Hardware</h3>
<div class="paragraph">
<p>iCE40 FPGAs do have hard SPI modules, which can be instantiated for user applications (see <a href="http://www.mouser.com/ds/2/225/iCE40FamilyHandbook-311139.pdf">iCE40™ LP/HX/LM Family Handbook, page 62</a>). Hence, it might be possible to prototype a
module/component in HDL for overwriting the pointers in the applet without requiring an external CPU. A look-up-table
and some FSM would be required, apart from enough BRAM for holding the minimal ammount of data that needs to be read
from the flash.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Cold/warm boot allows dynamic reconfiguration, but partial dynamic reconfiguration is not supported.
Therefore, the warm boot module/controller needs to be implemented in each of the images which needs to be capable of
dynamically changing to another one.
That would provide the illusion of <em>partial reconfiguration</em> with an stop-the-world approach.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It would also be possible to handle uncompressing some image and overwritting one of the existing addressable locations,
instead of modifying the pointers. However, dealing with uncompression algorithms in HDL might be non trivial.</p>
</div>
<div class="paragraph">
<p><em>TBW</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references">References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="http://www.latticesemi.com/-/media/LatticeSemi/Documents/ApplicationNotes/IK/iCE40ProgrammingandConfiguration.ashx">iCE40 Programming and Configuration (Technical Note TN1248)</a></p>
</li>
<li>
<p><a href="http://www.latticesemi.com/view_document?document_id=50701">iCEstick User Manual</a></p>
</li>
<li>
<p><a href="https://github.com/clairexen">@clairexen</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="http://bygone.clairexen.net/icestorm/format.html">bygone.clairexen.net/icestorm/format</a></p>
</li>
<li>
<p><a href="https://github.com/YosysHQ/icestorm/blob/master/icemulti">YosysHQ/icestorm: icemulti</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/juanmard">@juanmard</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/juanmard/icestorm">juanmard/icestorm</a></p>
</li>
<li>
<p><a href="https://github.com/juanmard/screen-warmboot">juanmard/screen-warmboot</a></p>
</li>
<li>
<p><a href="https://github.com/juanmard/collection-Pong">juanmard/collection-Pong</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/tinyfpga/TinyFPGA-Bootloader">tinyfpga/TinyFPGA-Bootloader</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/mattvenn/understanding-tinyfpga-bootloader">mattvenn/understanding-tinyfpga-bootloader</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/im-tomu/foboot">im-tomu/foboot</a></p>
</li>
<li>
<p><a href="https://github.com/sylefeb">@sylefeb</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sylefeb/Silice/blob/draft/projects/ice40-warmboot">sylefeb/Silice: draft/projects/ice40-warmboot</a></p>
</li>
<li>
<p><a href="https://github.com/sylefeb/Silice/tree/draft/projects/ice40-dynboot">sylefeb/Silice: draft/projects/ice40-dynboot</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/gatecat/hrt">gatecat/hrt</a>: a proof-of-concept for using partial dynamic reconfiguration on ECP5
devices.</p>
</li>
<li>
<p><a href="https://hackaday.com/2018/09/27/three-part-deep-dive-explains-lattice-ice40-fpga-details/">hackaday.com: Three Part Deep Dive Explains Lattice ICE40 FPGA Details</a></p>
</li>
<li>
<p><a href="https://github.com/smunaut/iCE40linux">smunaut/iCE40linux</a></p>
</li>
<li>
<p>USB CDC ACM</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/no2fpga">no2fpga</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/no2fpga/no2muacm">no2fpga/no2muacm</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/greatscottgadgets/luna">greatscottgadgets/luna</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/greatscottgadgets/luna/pull/80">greatscottgadgets/luna#80</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-10-09 16:51:55 UTC
</div>
</div>
</body>
</html>